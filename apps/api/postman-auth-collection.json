{
    "info": {
        "name": "morpho-shorts-factory",
        "_postman_id": "morpho-shorts-factory-api",
        "description": "Complete API collection for Morpho Shorts Factory",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "health-check",
            "item": [
                {
                    "name": "Live Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/health/live",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "health",
                                "live"
                            ]
                        },
                        "description": "Basic liveness check - returns ok if service is running"
                    },
                    "response": []
                },
                {
                    "name": "Ready Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/health/ready",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "health",
                                "ready"
                            ]
                        },
                        "description": "Readiness check - verifies database connection and service health"
                    },
                    "response": []
                }
            ],
            "description": "Health check endpoints for service monitoring"
        },
        {
            "name": "auth",
            "item": [
                {
                    "name": "Register User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"testPassword123\",\n  \"username\": \"testuser\",\n  \"displayName\": \"Test User\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Register a new user account. Returns user object and JWT token.\n\nRequired fields:\n- email (valid email format)\n- password (min 8 characters)\n\nOptional fields:\n- username (3-30 characters)\n- displayName (1-100 characters)"
                    },
                    "response": [],
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "type": "text/javascript",
                                "exec": [
                                    "// Save token to environment variable",
                                    "if (pm.response.code === 201) {",
                                    "    const jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.token) {",
                                    "        pm.environment.set('authToken', jsonData.data.token);",
                                    "        console.log('Token saved to environment:', jsonData.data.token);",
                                    "    }",
                                    "}"
                                ]
                            }
                        }
                    ]
                },
                {
                    "name": "Login User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"testPassword123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Login with email and password. Returns user object and JWT token.\n\nRequired fields:\n- email\n- password"
                    },
                    "response": [],
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "type": "text/javascript",
                                "exec": [
                                    "// Save token to environment variable",
                                    "if (pm.response.code === 200) {",
                                    "    const jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.token) {",
                                    "        pm.environment.set('authToken', jsonData.data.token);",
                                    "        console.log('Token saved to environment:', jsonData.data.token);",
                                    "    }",
                                    "}"
                                ]
                            }
                        }
                    ]
                },
                {
                    "name": "Get Current User (Protected)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}",
                                "description": "JWT token from login/register"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/auth/me",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "auth",
                                "me"
                            ]
                        },
                        "description": "Get current authenticated user profile. Requires valid JWT token in Authorization header.\n\nThis is a protected route example - token is automatically used from environment variable."
                    },
                    "response": []
                }
            ],
            "description": "Authentication endpoints - login, register, and user management"
        },
        {
            "name": "test",
            "item": [
                {
                    "name": "TikTok",
                    "item": [
                        {
                            "name": "test tiktok generate videos",
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "{{baseUrl}}/api/v1/test/tiktok/:niche?count=5",
                                    "host": [
                                        "{{baseUrl}}"
                                    ],
                                    "path": [
                                        "api",
                                        "v1",
                                        "test",
                                        "tiktok",
                                        ":niche"
                                    ],
                                    "query": [
                                        {
                                            "key": "count",
                                            "value": "5",
                                            "description": "Number of videos to search (default: 5)"
                                        }
                                    ],
                                    "variable": [
                                        {
                                            "key": "niche",
                                            "value": "Paul Scholes",
                                            "description": "Search niche/keyword"
                                        }
                                    ]
                                },
                                "description": "Search and return top TikTok videos by niche/keyword. Returns video metadata without downloading."
                            },
                            "response": []
                        },
                        {
                            "name": "test tiktok generate videos Copy",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Content-Type",
                                        "value": "application/json"
                                    }
                                ],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n  \"niche\": \"Paul Scholes\",\n  \"count\": 2,\n  \"username\": \"testuser\"\n}"
                                },
                                "url": {
                                    "raw": "{{baseUrl}}/api/v1/test/tiktok/full-workflow",
                                    "host": [
                                        "{{baseUrl}}"
                                    ],
                                    "path": [
                                        "api",
                                        "v1",
                                        "test",
                                        "tiktok",
                                        "full-workflow"
                                    ]
                                },
                                "description": "Full TikTok workflow: Search top videos, download them, and upload to GCS.\n\nBody parameters:\n- niche: Search keyword/niche\n- count: Number of videos to process\n- username: User folder name (defaults to 'testuser')"
                            },
                            "response": []
                        }
                    ],
                    "description": "TikTok scraping and download test endpoints"
                },
                {
                    "name": "YouTube",
                    "item": [
                        {
                            "name": "Search YouTube Videos",
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "{{baseUrl}}/api/v1/test/youtube/:query?count=10",
                                    "host": [
                                        "{{baseUrl}}"
                                    ],
                                    "path": [
                                        "api",
                                        "v1",
                                        "test",
                                        "youtube",
                                        ":query"
                                    ],
                                    "query": [
                                        {
                                            "key": "count",
                                            "value": "10",
                                            "description": "Number of videos to return (default: 10, max: 50)"
                                        }
                                    ],
                                    "variable": [
                                        {
                                            "key": "query",
                                            "value": "football raw footage",
                                            "description": "Search query"
                                        }
                                    ]
                                },
                                "description": "Search YouTube videos by keyword. Returns video metadata including title, description, channel, and thumbnail."
                            },
                            "response": []
                        },
                        {
                            "name": "Search Raw Footage",
                            "request": {
                                "method": "GET",
                                "header": [],
                                "url": {
                                    "raw": "{{baseUrl}}/api/v1/test/youtube/raw/:niche?count=10",
                                    "host": [
                                        "{{baseUrl}}"
                                    ],
                                    "path": [
                                        "api",
                                        "v1",
                                        "test",
                                        "youtube",
                                        "raw",
                                        ":niche"
                                    ],
                                    "query": [
                                        {
                                            "key": "count",
                                            "value": "10",
                                            "description": "Number of videos to return"
                                        }
                                    ],
                                    "variable": [
                                        {
                                            "key": "niche",
                                            "value": "football",
                                            "description": "Niche/topic (e.g., football, basketball)"
                                        }
                                    ]
                                },
                                "description": "Search for raw footage videos on YouTube. Automatically searches multiple queries like 'football raw footage', 'football unedited footage', 'football training footage', etc."
                            },
                            "response": []
                        },
                        {
                            "name": "Download YouTube Video",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Content-Type",
                                        "value": "application/json"
                                    }
                                ],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n  \"videoId\": \"dQw4w9WgXcQ\",\n  \"username\": \"testuser\"\n}"
                                },
                                "url": {
                                    "raw": "{{baseUrl}}/api/v1/test/youtube/download",
                                    "host": [
                                        "{{baseUrl}}"
                                    ],
                                    "path": [
                                        "api",
                                        "v1",
                                        "test",
                                        "youtube",
                                        "download"
                                    ]
                                },
                                "description": "Download a single YouTube video and upload to GCS.\n\nBody parameters:\n- videoId: YouTube video ID (from URL)\n- username: User folder name (defaults to 'testuser')"
                            },
                            "response": []
                        },
                        {
                            "name": "YouTube Full Workflow",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Content-Type",
                                        "value": "application/json"
                                    }
                                ],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n  \"niche\": \"football\",\n  \"count\": 3,\n  \"username\": \"testuser\"\n}"
                                },
                                "url": {
                                    "raw": "{{baseUrl}}/api/v1/test/youtube/full-workflow",
                                    "host": [
                                        "{{baseUrl}}"
                                    ],
                                    "path": [
                                        "api",
                                        "v1",
                                        "test",
                                        "youtube",
                                        "full-workflow"
                                    ]
                                },
                                "description": "Full YouTube workflow: Search for raw footage, download videos, and upload to GCS.\n\nBody parameters:\n- niche: Topic/niche for raw footage search\n- count: Number of videos to process (default: 3)\n- username: User folder name (defaults to 'testuser')\n\nNote: Requires YOUTUBE_API_KEY in .env file"
                            },
                            "response": []
                        }
                    ],
                    "description": "YouTube scraping and download test endpoints - for raw footage content"
                }
            ],
            "description": "Test endpoints for video scraping and processing workflows"
        },
        {
            "name": "football",
            "item": [
                {
                    "name": "Get League Highlights",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/football/highlights?league=47&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "football",
                                "highlights"
                            ],
                            "query": [
                                {
                                    "key": "league",
                                    "value": "47",
                                    "description": "League ID: 47=Premier League, 87=La Liga, 54=Bundesliga, 55=Serie A, 53=Ligue 1, 42=Champions League"
                                },
                                {
                                    "key": "limit",
                                    "value": "10",
                                    "description": "Max highlights to return (default: 5)"
                                }
                            ]
                        },
                        "description": "Get all finished matches from a league/competition with YouTube highlight videos.\n\nWorkflow:\n1. Fetches all finished matches from FotMob league\n2. Enriches with detailed stats\n3. Ranks by excitement score (2+ goals, 40+ pts)\n4. Searches YouTube for highlights for top matches\n5. Returns matches with embedded YouTube highlight links\n\nLeague IDs:\n- 47: Premier League\n- 87: La Liga\n- 54: Bundesliga\n- 55: Serie A\n- 53: Ligue 1\n- 42: Champions League"
                    },
                    "response": []
                },
                {
                    "name": "Submit for AI Processing",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"videoUrl\": \"https://www.youtube.com/watch?v=FAEgFRMeH_E\",\n  \"homeTeam\": \"Brentford\",\n  \"awayTeam\": \"AFC Bournemouth\",\n  \"score\": \"4-1\",\n  \"stats\": {\n    \"totalGoals\": 5,\n    \"totalShots\": 18,\n    \"shotsOnTarget\": 8,\n    \"yellowCards\": 2,\n    \"redCards\": 0,\n    \"penalties\": 0\n  },\n  \"breakdown\": {\n    \"goalScore\": 40,\n    \"actionScore\": 0,\n    \"cardScore\": 0,\n    \"socialScore\": 0,\n    \"importanceScore\": 10\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/football/process",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "football",
                                "process"
                            ]
                        },
                        "description": "Submit a highlight video to the AI service for processing.\n\nAI will:\n1. Extract goals and best moments from the video\n2. Detect key plays and incidents\n3. Generate short clips (reels)\n4. Combine into optimized highlight reel\n\nRequired fields:\n- videoUrl: YouTube or other video URL\n- homeTeam, awayTeam: Team names\n\nOptional fields for algorithm:\n- score, stats, breakdown: Match information for context"
                    },
                    "response": []
                }
            ],
            "description": "Football content endpoints - highlights and AI processing"
        },
        "description": "Season year"
    }
]
},
"description": "Get all finished matches from a specific league round.\n\n**Examples:**\n- Premier League Round 18: `/league/39/round/Regular Season - 18`\n- La Liga Round 15: `/league/140/round/Regular Season - 15`\n- Champions League: `/league/2/round/Round of 16`\n\nNote: URL encode the round name (spaces become %20)"
},
"response": []
},
{
"name": "Get League Round Best Matches",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/data/league/39/round/Regular Season - 18/ranked?season=2023&limit=3&minGoals=2&enrichSocial=true",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "data",
    "league",
    "39",
    "round",
    "Regular Season - 18",
    "ranked"
],
"query": [
    {
        "key": "season",
        "value": "2024",
        "description": "Season year"
    },
    {
        "key": "limit",
        "value": "3",
        "description": "Number of matches to return"
    },
    {
        "key": "minGoals",
        "value": "2",
        "description": "Minimum goals required"
    },
    {
        "key": "enrichSocial",
        "value": "true",
        "description": "Fetch YouTube engagement"
    }
]
},
"description": "Get the best matches from a specific league round, ranked by excitement.\n\n**Use Case:** Weekly league roundup\n\n**Example Workflow:**\n1. Get rounds: `/league/39/rounds`\n2. Pick latest round\n3. Get best matches: `/league/39/round/{latest}/ranked?limit=5`\n4. Download highlights from YouTube\n5. Create compilation video\n\nRequires: FOOTBALL_API_KEY in .env"
},
"response": []
}
],
"description": "Real Football Data - Fetch actual match data from API-Football. Requires FOOTBALL_API_KEY in .env (free tier: 100 requests/day). Use these endpoints to get real match statistics, scores, and details from any league."
},
{
"name": "football-scraping",
"item": [
{
"name": "Get FotMob League IDs",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/leagues",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "leagues"
]
},
"description": "Get FotMob league IDs for web scraping.\n\n**FREE, NO API KEY, CURRENT DATA!**\n\nLeague IDs:\n- Premier League (47)\n- La Liga (87)\n- Bundesliga (54)\n- Serie A (55)\n- Ligue 1 (53)\n- Champions League (42)\n- Europa League (73)\n\nNo setup required - works immediately!"
},
"response": []
},
{
"name": "Get Today's Matches (Scraped)",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/today",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "today"
]
},
"description": "Get all finished matches from today using FotMob web scraping.\n\n**Advantages:**\n- ✅ FREE (no API key)\n- ✅ CURRENT season data (2024-2025)\n- ✅ Works immediately\n- ✅ Basic match data\n\nUse enrichStats=true to get detailed statistics."
},
"response": []
},
{
"name": "Get Today's Best Matches (Scraped + Ranked)",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/today/ranked?limit=5&minGoals=2&enrichStats=true&enrichSocial=true&minExcitementScore=60",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "today",
    "ranked"
],
"query": [
    {
        "key": "limit",
        "value": "5",
        "description": "Number of matches to return (default: 5)"
    },
    {
        "key": "minGoals",
        "value": "2",
        "description": "Minimum goals required (default: 2)"
    },
    {
        "key": "enrichStats",
        "value": "true",
        "description": "Fetch detailed stats from FotMob (slower)"
    },
    {
        "key": "enrichSocial",
        "value": "true",
        "description": "Fetch YouTube views/engagement (slower)"
    },
    {
        "key": "minExcitementScore",
        "value": "60",
        "description": "Minimum excitement score 0-130 (default: 60)"
    }
]
},
"description": "Get today's most exciting matches from FotMob, ranked by algorithm.\n\n**BEST ENDPOINT FOR DAILY HIGHLIGHTS!**\n\n**Parameters:**\n- `limit`: Number of matches (default: 5)\n- `minGoals`: Minimum goals (default: 2)\n- `minExcitementScore`: Min score 0-130 (default: 60)\n- `enrichStats`: Fetch detailed match stats (default: false)\n- `enrichSocial`: Add YouTube views (default: false)\n\n**Use Case:** Daily highlight compilation with CURRENT data\n\n**No API key required!**"
},
"response": []
},
{
"name": "Get Premier League Matches (Scraped)",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/league/47",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "league",
    "47"
]
},
"description": "Get all finished Premier League matches from FotMob.\n\n**League IDs:**\n- 47 = Premier League\n- 87 = La Liga\n- 54 = Bundesliga\n- 55 = Serie A\n- 53 = Ligue 1\n- 42 = Champions League\n- 73 = Europa League\n\nReturns recent finished matches from the current season."
},
"response": []
},
{
"name": "Get Premier League Best Matches (Scraped + Ranked)",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/league/47/ranked?limit=5&minGoals=2&enrichStats=true&enrichSocial=false",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "league",
    "47",
    "ranked"
],
"query": [
    {
        "key": "limit",
        "value": "5",
        "description": "Number of matches to return"
    },
    {
        "key": "minGoals",
        "value": "2",
        "description": "Minimum goals required"
    },
    {
        "key": "enrichStats",
        "value": "true",
        "description": "Fetch detailed match statistics"
    },
    {
        "key": "enrichSocial",
        "value": "false",
        "description": "Fetch YouTube engagement"
    }
]
},
"description": "Get the best Premier League matches, ranked by excitement.\n\n**Use Case:** Weekly Premier League highlight compilation\n\n**Example for other leagues:**\n- La Liga: `/scraper/league/87/ranked`\n- Bundesliga: `/scraper/league/54/ranked`\n- Serie A: `/scraper/league/55/ranked`\n- Champions League: `/scraper/league/42/ranked`\n\n**No API key required!**"
},
"response": []
},
{
"name": "Get La Liga Best Matches",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/league/87/ranked?limit=3&enrichStats=true",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "league",
    "87",
    "ranked"
],
"query": [
    {
        "key": "limit",
        "value": "3",
        "description": "Top 3 matches"
    },
    {
        "key": "enrichStats",
        "value": "true",
        "description": "Get detailed statistics"
    }
]
},
"description": "Get top 3 La Liga matches with detailed stats.\n\nPerfect for creating \"Best of La Liga\" compilations."
},
"response": []
},
{
"name": "Get Champions League Best Matches",
"request": {
"method": "GET",
"header": [],
"url": {
"raw": "{{baseUrl}}/api/v1/football/scraper/league/42/ranked?limit=5&minGoals=3&enrichStats=true",
"host": [
    "{{baseUrl}}"
],
"path": [
    "api",
    "v1",
    "football",
    "scraper",
    "league",
    "42",
    "ranked"
],
"query": [
    {
        "key": "limit",
        "value": "5",
        "description": "Top 5 matches"
    },
    {
        "key": "minGoals",
        "value": "3",
        "description": "Only high-scoring matches"
    },
    {
        "key": "enrichStats",
        "value": "true",
        "description": "Detailed statistics"
    }
]
},
"description": "Get the best Champions League matches.\n\nPerfect for \"UCL Best Goals\" compilations."
},
"response": []
}
],
"description": "Football Web Scraping (FotMob) - Get CURRENT season data (2024-2025) for FREE! No API key required. Scrapes match data from FotMob's public API. Perfect for daily highlights and current season content."
}
],
"variable": [
{
"key": "baseUrl",
"value": "http://localhost:5001",
"type": "string"
}
]
}